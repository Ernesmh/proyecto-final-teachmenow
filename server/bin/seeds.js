const mongoose = require('mongoose');
const dbURL = "mongodb://localhost/teachMeNow";
mongoose.connect(dbURL, { useMongoClient: true} );

const bcrypt = require("bcrypt");
const bcryptSalt = 10;

const User = require('../models/User');
// const Meeting = require ('../models/Meeting')
const Subject = require('../models/Subject');
// const Rating = require('../models/Rating');


const pass = 'teach';
const salt = bcrypt.genSaltSync(bcryptSalt);
const encryptedPass = bcrypt.hashSync(pass, salt);


const users = [{  username: "Ernesto",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Postgrado',
  email: 'rns_mh@hotmail.com',
  position: {latitude: '40.391885', longitude: '-3.697440'},
  phone: '693850356',
  avatar: '',
},
{  username: "Marc",
  password: encryptedPass,
  role: "teacher",
  subject: 'Informática',
  isAvailable: 'true',
  price_per_hour: '20',
  rating: '5',
  level: 'Postgrado',
  email: 'marc@faable.com',
  position: {latitude: '40.491885', longitude: '-3.707440'},
  phone: '693334556',
  avatar: '',
},
{  username: "Gema",
  password: encryptedPass,
  role: "teacher",
  subject: 'Informática',
  isAvailable: 'true',
  price_per_hour: '15',
  rating: '3',
  level: 'Postgrado',
  email: 'marc@faable.com',
  position: {latitude: '40.481885', longitude: '-3.737440'},
  phone: '600900007',
  avatar: '',
},
{  username: "Alberto",
  password: encryptedPass,
  role: "teacher",
  subject: 'Lengua',
  isAvailable: 'true',
  price_per_hour: '14',
  rating: '3',
  level: 'Bachillerato',
  email: 'alberto@gmail.com',
  position: {latitude: '40.471685', longitude: '-3.689440'},
  phone: '624564556',
  avatar: '',
},
{  username: "Alberto",
  password: encryptedPass,
  role: "teacher",
  subject: 'Lengua',
  isAvailable: 'true',
  price_per_hour: '14',
  rating: '3',
  level: 'Bachillerato',
  email: 'alberto@gmail.com',
  position: {latitude: '40.471685', longitude: '-3.689440'},
  phone: '624564556',
  avatar: '',
},
{  username: "Juan",
  password: encryptedPass,
  role: "teacher",
  subject: 'Historia',
  isAvailable: 'true',
  price_per_hour: '15',
  rating: '4',
  level: 'Universidad/FP',
  email: 'juano@juan.com',
  position: {latitude: '40.401225', longitude: '-3.672440'},
  phone: '622564222',
  avatar: '',
},
{  username: "Laura",
  password: encryptedPass,
  role: "teacher",
  subject: 'Informática',
  isAvailable: 'true',
  price_per_hour: '17',
  rating: '4',
  level: 'Postgrado',
  email: 'laura@jlaaan.com',
  position: {latitude: '40.390225', longitude: '-3.689740'},
  phone: '622424222',
  avatar: '',
},
{  username: "Floki",
  password: encryptedPass,
  role: "teacher",
  subject: 'Matemáticas',
  isAvailable: 'true',
  price_per_hour: '10',
  rating: '2',
  level: 'Postgrado',
  email: 'floka@flok.com',
  position: {latitude: '40.416738', longitude: '-3.700010'},
  phone: '622353566',
  avatar: '',
},
{  username: "Tony",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Bachillerato',
  email: 'tony@hotmail.com',
  position: {latitude: '40.421885', longitude: '-3.707440'},
  phone: '693844444',
  avatar: '',
},
{  username: "Mari",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Secundaria',
  email: 'rns_mh@hotmail.com',
  position: {latitude: '40.381235', longitude: '-3.672542'},
  phone: '634893753',
  avatar: '',
},
{  username: "Carmenxu",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Postgrado',
  email: 'krmenxu@hotmail.com',
  position: {latitude: '40.382785', longitude: '-3.671440'},
  phone: '617189933',
  avatar: '',
},
{  username: "Cristial",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Postgrado',
  email: 'cristial@yahoo.com',
  position: {latitude: '40.431885', longitude: '-3.697440'},
  phone: '688050356',
  avatar: '',
},
{  username: "Manuten",
  password: encryptedPass,
  role: "teacher",
  subject: 'Informática',
  isAvailable: '13',
  price_per_hour: '',
  rating: '',
  level: 'Postgrado',
  email: 'cristial@yahoo.com',
  position: {latitude: '40.392580', longitude: '-3.695772'},
  phone: '688050356',
  avatar: '',
},
{  username: "Sergio",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Postgrado',
  email: 'serge@yahoo.com',
  position: {latitude: '40.592580', longitude: '-3.635772'},
  phone: '677463356',
  avatar: '',
},
{  username: "Ro",
  password: encryptedPass,
  role: "student",
  subject: '',
  isAvailable: '',
  price_per_hour: '',
  rating: '',
  level: 'Postgrado',
  email: 'ro@ro.com',
  position: {latitude: '40.618462', longitude: '-3.647596'},
  phone: '611101101',
  avatar: '',
},
];

User.collection.drop();

User.create(users)
  .then(user => {
    console.log("seeds hechos");
    // mongoose.connection.close();
  })
  .catch(err => console.log(err));
//

const subjects = [{
    name:  'Matemáticas',
    // level: ['Secundaria','Instituto','Universidad / FP','Postgrado'],
    image: 'https://image.flaticon.com/icons/svg/201/201558.svg'
  },
  {
    name:  'Informática',
    // level: ['Secundaria','Instituto','Universidad / FP','Postgrado'],
    image: 'https://image.flaticon.com/icons/svg/201/201559.svg'
  },
  {
    name:  'Lengua',
    // level: ['Secundaria','Instituto','Universidad / FP','Postgrado'],
    image: 'https://image.flaticon.com/icons/svg/201/201571.svg'
  },
  {
    name:  'Historia',
    // level: ['Secundaria','Instituto','Universidad / FP','Postgrado'],
    image: 'https://image.flaticon.com/icons/svg/201/201606.svg'
  }
];

Subject.collection.drop();

Subject.create(subjects)
  .then(user => { mongoose.connection.close(); })
  .catch(err => console.log(err));
